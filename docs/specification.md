# NexusTalk 要求仕様書

**文書バージョン:** 1.5  
**作成日:** 2025年7月8日  

---

## 1. 概要

### 1.1. はじめに
本仕様書は、会議分析Webアプリケーション「NexusTalk」のMVP（Minimum Viable Product）開発における要件を定義するものです。本バージョンでは、技術スタックを具体的に定め、プロダクトの核心的価値である**「既存のJSONデータからの議論構造の可視化」**という単一機能に完全に焦点を当てます。

### 1.2. プロダクトの目的とスコープ
NexusTalk (MVP) は、会議の文字起こしデータ（JSON形式）を入力として受け取り、その内容を分析してインタラクティブな「議論の地図」として可視化するWebアプリケーションです。ユーザーは、複雑な議論の全体像、論理的な繋がり、対立点などを直感的に把握できます。

**本MVPのスコープ:**
- JSONデータの入力インターフェース
- 入力データに基づく議論構造の分析と議論マップの生成
- 生成されたマップのインタラクティブな表示

**スコープ外:**
- ユーザーアカウント管理
- リアルタイムでの音声認識および分析
- テキストからの話者特定処理（入力JSONに依存）
- 分析結果のエクスポート機能
- 発言バランス分析機能

### 1.3. 対象ユーザー
- 会議の議論を客観的に振り返り、分析したいファシリテーターやプロジェクトマネージャー
- 会議の論点を構造的に理解したいすべての会議参加者
- 会議不参加者で、議論の要点と流れを短時間で把握したい関係者

---

## 2. 機能要件

### 2.1. JSON入力機能 (FR-01)
- **FR-01-01:** ユーザーは、メイン画面に表示されるテキストエリアに、分析したい会議の文字起こしデータ（JSON形式）を貼り付けることができる。
- **FR-01-02:** 入力されるJSONは、以下の形式の配列であることを前提とする。
```json
[
  { "speaker": "佐藤", "utterance": "来期の戦略ですが、私はA案を推進すべきだと考えています。" },
  { "speaker": "田中", "utterance": "佐藤さんに賛成です。B案と比較してコストを低く抑えられますからね。" },
  { "speaker": "鈴木", "utterance": "少し待ってください。A案は確かに低コストですが、市場投入後のリスクが高いというデータもあります。その点はどうお考えですか？" }
]
````

- **FR-01-03:** 「マップを生成」ボタンをクリックすると、システムがJSONデータの妥当性を検証し、分析を開始する。無効なJSONの場合はエラーメッセージを表示する。

### 2.2. 分析・可視化機能 (FR-02)

- **FR-02-01: 議論の構造解析（Nexus-Core Engine）**
  - システムは、入力されたJSON配列を解析する。
  - システムは、各発言オブジェクトから\*\*話者（speaker）**と**発言内容（utterance）\*\*を読み取る。
  - システムは、各発言内容から発言のタイプ（**主張、根拠、質問、賛成、反対**）を自動で分類する。
  - システムは、発言間の論理的な関係性（例：「発言2は発言1への賛成である」）を識別する。
- **FR-02-02: インタラクティブな議論マップ**
  - 分析結果を基に、\*\*ノード（発言の要点）**と**エッジ（関係性）\*\*からなるネットワーク図（議論マップ）を描画する。
  - 賛成関係は緑の線、反対・疑問関係はオレンジの線など、関係性の種類を色分けして表示する。
  - ユーザーは各ノードをクリックすると、元の発言テキスト全体を確認できる。
  - マップはズームイン・ズームアウト、ドラッグによる移動が可能。

-----

## 3\. 非機能要件

### 3.1. ユーザビリティ (NFR-01)

- **NFR-01-01:** ページを開いてから3ステップ（JSONを貼付→ボタンをクリック→結果を確認）で、主要機能を利用できるシンプルなUI。
- **NFR-01-02:** 議論マップは直感的に操作でき、描画が滑らかであること。

### 3.2. パフォーマンス (NFR-02)

- **NFR-02-01:** 1時間の会議に相当するデータ（約500発言オブジェクト）を、**10秒以内**に分析し、可視化を完了する。

### 3.3. 技術スタックと制約 (NFR-03)

- **NFR-03-01:** フロントエンドは **TypeScript** と **React** を使用して開発する。
- **NFR-03-02:** バックエンドサーバーは **TypeScript** を使用し、Node.js上で動作する **Express** フレームワークで構築する。
- **NFR-03-03:** 議論マップの描画には **React-Sigma (`@react-sigma/core`)** を使用する。
- **NFR-03-04:** 議論の構造解析エンジンは、**Azure OpenAI Service** のAPIを呼び出すことで実現する。

### 3.4. セキュリティとプライバシー (NFR-04)

- **NFR-04-01:** ユーザーが入力したJSONデータは、サーバーに保存しない。分析処理が完了し、ユーザーがブラウザを閉じた時点でデータは破棄されることを原則とする。
- **NFR-04-02:** プライバシーポリシーをサイト上に明記し、入力されたデータが分析目的でのみAzure OpenAI ServiceのAPIに送信されることをユーザーに伝える。
